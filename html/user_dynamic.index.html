<tal:block metal:use-macro="templates/page/macros/icing">
<tal:block metal:fill-slot="create_or_query">
 <tal:block
  metal:use-macro="templates/page/macros/create_or_query_new_tracker_item" />
</tal:block>

<tal:block metal:fill-slot="content">
 <tal:block tal:define=
  "batch request/batch;
   pdict python: utils.properties_dict (db, context);
   prp python:
    ( ('id',                {})
    , ('user',              {})
    , ( 'user'
      , dict
        ( searchname   = 'user.employee_number'
        , searchable   = False
        , sortable     = True
        , is_labelprop = False
        )
      )
    , ( 'user'
      , dict
        ( searchname   = 'user.firstname'
        , searchable   = False
        , sortable     = True
        , is_labelprop = False
        )
      )
    , ( 'user'
      , dict
        ( searchname   = 'user.lastname'
        , searchable   = False
        , sortable     = True
        , is_labelprop = False
        )
      )
    , ('valid_from',        {})
    , ('valid_to',          {})
    , ('booking_allowed',   {})
    , ('travel_full',       {})
    , ('durations_allowed', {})
    , ('weekend_allowed',   {})
    , ('vacation_yearly',   {})
    , ('vacation_month',    {})
    , ('vacation_day',      {})
    , ('vac_aliq',          {})
    , ('daily_worktime',    {})
    , ('weekly_hours',      {})
    , ('all_in',            {})
    , ('additional_hours',  {})
    , ('supp_weekly_hours', {})
    , ('supp_per_period',   {})
    , ('max_flexitime',     {})
    , ('hours_mon',         {})
    , ('hours_tue',         {})
    , ('hours_wed',         {})
    , ('hours_thu',         {})
    , ('hours_fri',         {})
    , ('hours_sat',         {})
    , ('hours_sun',         {})
    , ( 'org_location'
      , dict
        ( multiselect = 1
        , filter      = utils.valid_item (now)
        )
      )
    , ( 'aux_org_locations'
      , dict
        ( multiselect = 1
        , filter      = utils.valid_item (now)
        )
      )
    , ('overtime_period', dict (multiselect = 1))
    , ('sap_cc'
      , dict
        ( help_props = ('name', 'description', 'responsible', 'deputy')
        , filter     = dict (valid = True)
        )
      )
    , ('sap_cc'
      , dict
        ( searchname = 'sap_cc.id'
        , searchable = False
        )
      )
    , ('sap_cc'
      , dict
        ( searchname = 'sap_cc.description'
        , searchable = False
        )
      )
    , ('contract_type',         dict (multiselect = 1))
    , ('do_auto_wp',            {})
    , ('exemption',             {})
    , ('short_time_work_hours', {})
    , ('time_activity_perm',    dict (multiselect = 1))
    , ('creation',              {})
    , ('creator',               {})
    , ('activity',              {})
    , ('actor',                 {})
    );
    props python:
        [ utils.ExtProperty (utils, pdict [p [0]], ** p [1])
          for p in prp if p [0] in pdict
        ]
   "
  tal:condition="context/is_view_ok">

  <tal:block metal:use-macro="templates/page/macros/search_results"/>
  <tal:block metal:use-macro="templates/page/macros/simple_search_form"/>
 </tal:block>
</tal:block>
</tal:block>
