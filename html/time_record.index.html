<tal:block metal:use-macro="templates/page/macros/icing">
<tal:block metal:fill-slot="create_or_query">
 <tal:block
  metal:use-macro="templates/page/macros/create_or_query_new_tracker_item" />
</tal:block>

<tal:block metal:fill-slot="content">
 <tal:block tal:define=
  "batch request/batch;
   n_sort python:4;
   pdict python: utils.properties_dict (db, context);
   props python:
    ( utils.ExtProperty (utils, pdict ['id'])
    , utils.ExtProperty
        ( utils, pdict ['daily_record']
        , searchname  = 'daily_record.user.id'
        , searchable  = False
        )
    , utils.ExtProperty
        ( utils, pdict ['daily_record']
        , searchname  = 'daily_record.user'
        , searchable  = True
        )
    , utils.ExtProperty
        ( utils, pdict ['daily_record']
        , searchname  = 'daily_record.date'
        , searchable  = True
        )
    , utils.ExtProperty
        ( utils, pdict ['daily_record']
        , searchname  = 'daily_record.status'
        , searchable  = True
        , multiselect = True
        )
    , utils.ExtProperty
        ( utils, pdict ['daily_record']
        , searchname  = 'daily_record.status.id'
        , searchable  = False
        )
    , utils.ExtProperty
        ( utils, pdict ['daily_record']
        , searchname  = 'daily_record.weekend_allowed'
        , searchable  = True
        )
    , utils.ExtProperty
        ( utils, pdict ['wp']
        , searchname  = 'wp.project'
        , searchable  = True
        )
    , utils.ExtProperty
        ( utils, pdict ['wp']
        , searchname  = 'wp.project.id'
        , searchable  = False
        )
    , utils.ExtProperty
        ( utils, pdict ['wp']
        , searchname  = 'wp.project.op_project'
        , searchable  = True
        )
    , utils.ExtProperty (utils, pdict ['wp'], searchable = 1)
    , utils.ExtProperty
        (utils, pdict ['attendance_record']
        , searchname  = 'attendance_record.id'
        , searchable = False
        )
    , utils.ExtProperty
        ( utils, pdict ['wp']
        , searchname  = 'wp.id'
        , searchable  = False
        )
    , utils.ExtProperty (utils, pdict ['time_activity'], multiselect = 1)
    , utils.ExtProperty
        ( utils, pdict ['time_activity']
        , searchname  = 'time_activity.id'
        , searchable  = False
        )
    , utils.ExtProperty
        ( utils, pdict ['duration']
        , get_cssclass = utils.color_duration
        )
    , utils.ExtProperty
        ( utils, pdict ['tr_duration']
        , get_cssclass = utils.color_duration
        )
    , utils.ExtProperty (utils, pdict ['comment'])
    );
   "
  tal:condition="context/is_view_ok">

  <tal:block metal:use-macro="templates/page/macros/search_results"/>
  <tal:block metal:use-macro="templates/page/macros/simple_search_form"/>
 </tal:block>
</tal:block>
</tal:block>
